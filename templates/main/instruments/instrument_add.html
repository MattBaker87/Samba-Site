{% extends "main/base_new.html" %}

{% block title %}Add instrument{% endblock %}

{% block heading %}Add an instrument{% endblock %}

{% block sub-nav %}
    {% load get_instruments %}
    {% get_instruments as instrument_list %}
    <table class="condensed-table dimmed">
        <thead>
            <tr>
                <th colspan="2">All instruments</th>
            </tr>
        </thead>
        <tbody>
            {% for instrument in instrument_list %}
                <tr>
                    <td><a href="{{ instrument.get_absolute_url }}">{{ instrument.name }}</a></td>
                    <td>{% if instrument.damaged %}<span class="label important">Damaged</span>{% endif %}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}

{% block content %}
    <form action="" method="post">
        {% csrf_token %}
        <fieldset>
            <div class="clearfix {% if form.name.errors %}error{% endif %}">
                {{ form.name.label_tag }}
                <div class="input">
                    {{ form.name }}
                    {% if form.name.errors %}
                        {% for error in form.name.errors %}
                            <span class="help-inline">{{ error }}</span>
                        {% endfor %}
                    {% else %}
                        <span class="help-inline">{{ form.name.help_text }}</span>
                    {% endif %}
				</div>
			</div>
            <div class="clearfix {% if form.instrument_type.errors %}error{% endif %}">
                {{ form.instrument_type.label_tag }}
                <div class="input">
                    {{ form.instrument_type }}
                    {% if form.instrument_type.errors %}
                        {% for error in form.instrument_type.errors %}
                            <span class="help-inline">{{ error }}</span>
                        {% endfor %}
                    {% else %}
                        <span class="help-inline">{{ form.instrument_type.help_text }}</span>
                    {% endif %}
				</div>
			</div>
			<div class="clearfix">
			    <label id="optionsCheckboxes">Flags</label>
			    <div class="input">
			        <ul class="inputs-list">
			            <li>
			                <label>
			                    {{ form.damaged }}
			                    <span>{{ form.damaged.label }}</span>
			                </label>
			            </li>
			        </ul>
			    </div>
			</div>
    	</fieldset>
        <div class="input">
            <button class="btn success" type="submit">Add instrument</button>
            <a href="{% url instrument_list %}" class="btn danger">Cancel</a>
        </div>
    </form>
{% endblock %}

{% block bottom %}
    <br>
    <ul class="breadcrumb">
    	<li>
    		<a href="{% url home %}">Home</a>
    		<span class="divider">/</span>
    	</li>
    	<li>
    	    <a href="{% url instrument_list %}">Instruments</a>
    	    <span class="divider">/</span>
    	</li>
    	<li class="active">
    		<a href="#">Add instrument</a>
    	</li>
    </ul>
{% endblock %}

{% block wireframe_content %}
    <ul>
        <li>TODO: Fix CSS so this isn't really ugly. May want to make the content part of this span13 if there are no options/links we want to put on the right</li>
    </ul>
{% endblock %}

{% block wireframe_links %}
    <ul>
        <li><a href="{% url instrument_list %}">Add instrument and go to instrument list</a></li>
        <li><a href="{% url instrument_list %}">Cancel add and go to instrument list</a></li>
        <li><a href="{% url home %}">Back to homepage</a></li>
        <li><a href="{% url logout %}">Logout</a></li>
    </ul>
{% endblock %}